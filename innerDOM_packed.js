function stringToDOM(q){var r=function(a){a=a.replace(/\r/g," ");a=a.replace(/\n/g," ");return a};var s=function(a){a=a.replace(/&amp;/g,"&");a=a.replace(/&gt;/g,">");a=a.replace(/&lt;/g,"<");a=a.replace(/&nbsp;/g," ");a=a.replace(/&quot;/g,'"');return a};var t=function(a){a=a.replace(/ /g,"");return a};var u=function(a){var b=document.createDocumentFragment();var c=a.indexOf(' ');if(c===-1){var d=a.toLowerCase();b.appendChild(document.createElement(d))}else{d=t(a.substring(0,c)).toLowerCase();if(document.all&&d==='input'){b.appendChild(document.createElement('<'+a+'/>'));return b}a=a.substring(c+1);b.appendChild(document.createElement(d));while(a.length>0){var e=a.indexOf('=');if(e>=0){var f=t(a.substring(0,e)).toLowerCase();var g=a.indexOf('"');a=a.substring(g+1);g=a.indexOf('"');var h=s(a.substring(0,g));a=a.substring(g+2);if(document.all&&f==='style'){b.lastChild.style.cssText=h}else{b.lastChild.setAttribute(f,h)}}else{break}}}return b};var v=function(a,b,c){var d=a;var e=b;c=c.toLowerCase();var f=e.indexOf('</'+c+'>');d=d.concat(e.substring(0,f));e=e.substring(f);while(d.indexOf('<'+c)!=-1){d=d.substring(d.indexOf('<'+c));d=d.substring(d.indexOf('>')+1);e=e.substring(e.indexOf('>')+1);f=e.indexOf('</'+c+'>');d=d.concat(e.substring(0,f));e=e.substring(f)}return b.length-e.length};var w=function(a){var b=document.createDocumentFragment();while(a&&a.length>0){var c=a.indexOf("<");if(c===-1){a=s(a);b.appendChild(document.createTextNode(a));a=null}if(c>0){var d=s(a.substring(0,c));b.appendChild(document.createTextNode(d));a=a.substring(c)}if(c===0){var e=a.indexOf('<!--');if(e===0){var f=a.indexOf('-->');var g=a.substring(4,f);g=s(g);b.appendChild(document.createComment(g));a=a.substring(f+3)}else{var h=a.indexOf('>');if(a.substring(h-1,h)==='/'){var i=a.indexOf('/>');var j=a.substring(1,i);b.appendChild(u(j));a=a.substring(i+2)}else{var k=a.indexOf('>');var l=a.substring(1,k);var m=document.createDocumentFragment();m.appendChild(u(l));a=a.substring(k+1);var n=a.substring(0,a.indexOf('</'));a=a.substring(a.indexOf('</'));if(n.indexOf('<')!=-1){var o=m.lastChild.nodeName;var p=v(n,a,o);n=n.concat(a.substring(0,p));a=a.substring(p)}a=a.substring(a.indexOf('>')+1);m.lastChild.appendChild(w(n));b.appendChild(m)}}}}return b};var x=w(q);return x}function DOMtoString(h){var j=function(a){a=a.replace(/&/g,"&amp;");a=a.replace(/>/g,"&gt;");a=a.replace(/</g,"&lt;");a=a.replace(/\"/g,'&quot;');return a};var k=function(a){var b=a.childNodes;var c='';for(var i=0;i<b.length;i++){var d=b[i].nodeType;switch(d){case 1:var e=b[i].nodeName.toLowerCase();var f=b[i].attributes;c=c.concat('<'+e);if(f.length>0){for(var g=0;g<f.length;g++){if(document.all){if(f[g].nodeName&&f[g].nodeValue!==null&&f[g].nodeValue!=''&&(f[g].nodeName!='contentEditable'&&f[g].nodeValue!='inherit')&&(f[g].nodeName!='shape'&&f[g].nodeValue!='rect')){c=c.concat(' '+f[g].nodeName.toLowerCase()+'="'+j(f[g].nodeValue)+'"')}if(f[g].nodeName==='style'&&b[i].style.cssText!==null&&b[i].style.cssText.length!==0){c=c.concat(' style="'+b[i].style.cssText.toLowerCase()+';"')}}else{c=c.concat(' '+f[g].nodeName.toLowerCase()+'="'+j(f[g].nodeValue)+'"')}}}if(e==='meta'||e==='img'||e==='br'||e==='input'||e==='link'||e==='hr'){c=c.concat(' />')}else{c=c.concat('>'+k(b[i])+'</'+e+'>')}break;case 3:c=c.concat(j(b[i].nodeValue));break;case 8:c=c.concat('<!--'+j(b[i].nodeValue)+'-->');break}}return c};var l=k(h);return l}
